(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0d0b65"],{"68c0":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",[t("q-card",{staticClass:"q-ma-md"},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("Component as a receiver")]),t("p",[e._v("This example registers a component as a receiver, and sends messages from this page to the component.")]),t("p",[e._v("This is a simplified example, because the component is a child of this page, but it does not have to be. The message sender could be anywhere in the frontend codebase, or even the electron main process or a webworker.")]),t("p",[e._v("The receiver component must define two methods "),t("code",[e._v("receive(message)")]),e._v(" and "),t("code",[e._v("receivePromise(message, resolve, reject)")]),e._v(", and register itself with the broker.")])])],1),t("q-card",{staticClass:"q-ma-md"},[t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("Send message")]),t("q-btn",{on:{click:function(s){return e.sendMessage("foo")}}},[e._v("foo")]),t("q-btn",{on:{click:function(s){return e.sendMessage("bar")}}},[e._v("bar")]),t("q-btn",{on:{click:function(s){return e.sendMessage("baz")}}},[e._v("baz")])],1),t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("Send messagePromise")]),t("q-btn",{on:{click:function(s){return e.sendMessagePromise("resolveMe")}}},[e._v("resolveMe")]),t("q-btn",{on:{click:function(s){return e.sendMessagePromise("rejectMe")}}},[e._v("rejectMe")])],1),t("q-card-section",[t("div",{staticClass:"text-h6"},[e._v("Actions")]),t("q-btn",{on:{click:function(s){return e.sendMessage("clear")}}},[e._v("clear log")]),t("q-btn",{on:{click:function(s){return e.sendMessage("deregisterYourself")}}},[e._v("tell component to deregister itself")])],1)],1),t("q-card",{staticClass:"q-ma-md"},[t("q-card-section",[t("component-receiver")],1)],1)],1)},r=[],o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("p",[e._v("Component Receiver: ")]),t("ul",e._l(e.messages,function(s){return t("li",[e._v("\n            "+e._s(s)+"\n        ")])}),0)])},i=[],c={name:"ComponentReceiver",data:function(){return{messages:[]}},created:function(){this.$q.broker.registerReceiver("MyComponent",this),this.$q.broker.compareReceiver("MyComponent",this)?this.messages.push("Correctly registered receiver"):this.messages.push("This is not the receiver you're looking for")},destroyed:function(){try{this.$q.broker.deregisterReceiver("MyComponent")}catch(e){}},methods:{receive:function(e){switch(this.messages.push("component-receiver got message "+e),e){case"clear":this.messages=[];break;case"deregisterYourself":this.$q.broker.deregisterReceiver("MyComponent");break}},receivePromise:function(e,s,t){this.messages.push("component-receiver got messagePromise "+e),"resolveMe"===e?s():t("I'm programmed to reject this")}}},a=c,d=t("2877"),m=Object(d["a"])(a,o,i,!1,null,null,null),l=m.exports,v={name:"PageSecondary",methods:{sendMessage:function(e){try{this.$q.broker.send("MyComponent",e)}catch(s){this.$q.notify("Error sending message! "+s)}},sendMessagePromise:function(e){var s=this;this.$q.broker.sendPromise("MyComponent",e).then(function(){s.$q.notify("Message was resolved!")}).catch(function(e){s.$q.notify("Message was rejected! "+e)})}},components:{ComponentReceiver:l}},h=v,u=Object(d["a"])(h,n,r,!1,null,null,null);s["default"]=u.exports}}]);